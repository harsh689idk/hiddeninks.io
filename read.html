<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Read Book - HiddenInks.io</title>
  <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500;700&family=Crimson+Text:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* ---------- Base Styles ---------- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      transition: all 0.3s ease;
    }

    body {
      font-family: 'Ubuntu', sans-serif;
      background: linear-gradient(135deg, #e6d8c9 0%, #d4c9be 100%);
      color: #2c2416;
      line-height: 1.6;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* ---------- Light & Dark Modes ---------- */
    .light-mode {
      background: linear-gradient(135deg, #e6d8c9 0%, #d4c9be 100%);
      color: #2c2416;
    }

    .dark-mode {
      background: linear-gradient(135deg, #1a1a1a 0%, #0d0d0d 100%);
      color: #e6d3b0;
    }

    /* ---------- Loading Screen ---------- */
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #d4c9be 0%, #c1b3a3 100%);
      color: #5a4a30;
      font-size: 24px;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      flex-direction: column;
      font-family: 'Crimson Text', serif;
    }

    .dark-mode .loading-screen {
      background: linear-gradient(135deg, #0d0d0d 0%, #1a1a1a 100%);
      color: #d4c9be;
    }

    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 5px solid rgba(90, 74, 48, 0.2);
      border-top: 5px solid #5a4a30;
      border-radius: 50%;
      animation: spin 1.5s linear infinite;
      margin-bottom: 25px;
    }

    .dark-mode .loading-spinner {
      border-top-color: #d4c9be;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* ---------- Read Container ---------- */
    .read-container {
      max-width: 900px;
      margin: 40px auto;
      padding: 0 20px;
      position: relative;
    }

    /* Book Cover Effect */
    .book-cover-effect {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(212, 201, 190, 0.1) 0%, rgba(180, 167, 154, 0.2) 100%);
      border-radius: 10px;
      z-index: -1;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
    }

    .dark-mode .book-cover-effect {
      background: linear-gradient(135deg, rgba(26, 26, 26, 0.2) 0%, rgba(13, 13, 13, 0.3) 100%);
    }

    /* ---------- Header ---------- */
    .read-header {
      background: rgba(212, 201, 190, 0.85);
      padding: 20px 30px;
      border-radius: 12px 12px 0 0;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
      backdrop-filter: blur(5px);
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
    }

    .dark-mode .read-header {
      background: rgba(26, 26, 26, 0.85);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    /* Home Button */
    .button-55 {
      background-color: #fff;
      border: 2px solid #5a4a30;
      border-radius: 15px 225px 255px 15px;
      box-shadow: rgba(0, 0, 0, 0.1) 10px 20px 20px -12px;
      color: #5a4a30;
      cursor: pointer;
      font-size: 1rem;
      padding: 0.75rem 1.5rem;
      text-decoration: none;
      transition: all 235ms ease-in-out;
      user-select: none;
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 500;
    }
    
    .dark-mode .button-55 {
      background-color: #2c2416;
      color: #e6d3b0;
      border-color: #8a7a60;
    }
    
    .button-55:hover {
      box-shadow: rgba(0, 0, 0, 0.2) 2px 8px 8px -5px;
      transform: translate3d(0, 2px, 0);
    }

    /* Header Info */
    .header-info {
      text-align: center;
      flex-grow: 1;
      padding: 0 20px;
    }

    .header-info h1 {
      font-size: 1.8rem;
      color: #3a2e1d;
      margin-bottom: 5px;
      font-family: 'Crimson Text', serif;
      letter-spacing: 0.5px;
    }

    .dark-mode .header-info h1 {
      color: #e6d3b0;
    }

    .header-info p {
      font-size: 1.1rem;
      color: #6d5c40;
      font-style: italic;
    }

    .dark-mode .header-info p {
      color: #b8a98a;
    }

    /* Dark Mode Toggle */
    .checkbox-wrapper-58 {
      display: flex;
      align-items: center;
    }
    
    .checkbox-wrapper-58 input[type="checkbox"] {
      visibility: hidden;
      display: none;
    }
    
    .checkbox-wrapper-58 .switch {
      --switch_width: 2.5em;
      --switch_height: 1.3em;
      --thumb_color: #e8e8e8;
      --track_color: #e8e8e8;
      --track_active_color: #888;
      --outline_color: #5a4a30;
      position: relative;
      display: inline-block;
      width: var(--switch_width);
      height: var(--switch_height);
      cursor: pointer;
    }
    
    .dark-mode .checkbox-wrapper-58 .switch {
      --outline_color: #8a7a60;
    }
    
    .checkbox-wrapper-58 .slider {
      box-sizing: border-box;
      border: 2px solid var(--outline_color);
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: var(--track_color);
      transition: 0.15s;
      border-radius: var(--switch_height);
    }
    
    .checkbox-wrapper-58 .slider:before {
      box-sizing: border-box;
      position: absolute;
      content: "";
      height: var(--switch_height);
      width: var(--switch_height);
      border: 2px solid var(--outline_color);
      border-radius: 100%;
      left: -2px;
      bottom: -2px;
      background-color: var(--thumb_color);
      transform: translateY(-0.2em);
      box-shadow: 0 0.2em 0 var(--outline_color);
      transition: 0.15s;
    }
    
    .checkbox-wrapper-58 input:checked + .slider {
      background-color: var(--track_active_color);
    }
    
    .checkbox-wrapper-58 input:checked + .slider:before {
      transform: translateX(calc(var(--switch_width) - var(--switch_height))) translateY(-0.2em);
    }

    /* ---------- Main Reading Content ---------- */
    .read-main {
      background: rgba(249, 246, 240, 0.92);
      padding: 50px 60px;
      border-radius: 0 0 12px 12px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
      position: relative;
      min-height: 60vh;
      backdrop-filter: blur(3px);
    }

    .dark-mode .read-main {
      background: rgba(28, 25, 20, 0.92);
    }

    /* Page curl effect */
    .read-main::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 40px;
      height: 40px;
      background: linear-gradient(225deg, rgba(0,0,0,0.05) 0%, rgba(0,0,0,0) 50%);
      border-radius: 0 0 0 10px;
    }

    .dark-mode .read-main::before {
      background: linear-gradient(225deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0) 50%);
    }

    /* Chapter Indicator */
    #chapterIndicator {
      font-size: 1.6rem;
      margin-bottom: 30px;
      color: #5a4a30;
      font-weight: 600;
      text-align: center;
      font-family: 'Crimson Text', serif;
      letter-spacing: 1px;
      position: relative;
      padding-bottom: 15px;
    }

    #chapterIndicator::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 3px;
      background: #d4c9be;
      border-radius: 2px;
    }

    .dark-mode #chapterIndicator {
      color: #d4c9be;
    }

    .dark-mode #chapterIndicator::after {
      background: #5a4a30;
    }

    /* Book Content */
    .book-content {
      font-size: 1.3rem;
      line-height: 1.9;
      text-align: left;
      margin-bottom: 40px;
      transition: opacity 0.4s ease-in-out;
      font-family: 'Crimson Text', serif;
      color: #3a2e1d;
      max-width: 720px;
      margin: 0 auto;
    }

    .book-content p {
      margin-bottom: 30px;
      text-indent: 2em;
    }

    .book-content p:first-child {
      text-indent: 0;
      font-size: 1.35rem;
    }

    .book-content p:first-child::first-letter {
      font-size: 3.5rem;
      float: left;
      line-height: 0.8;
      margin-right: 10px;
      color: #8a7a60;
      font-family: 'Crimson Text', serif;
      font-weight: 700;
    }

    .dark-mode .book-content {
      color: #e6d3b0;
    }

    .dark-mode .book-content p:first-child::first-letter {
      color: #c1b3a3;
    }

    /* Navigation Buttons */
    .nav-buttons {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin: 50px 0 30px;
    }

    .nav-btn {
      background: linear-gradient(to bottom, #8a7a60 0%, #6d5c40 100%);
      border: none;
      padding: 14px 35px;
      font-size: 1.1rem;
      color: #f9f6f0;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 10px;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(90, 74, 48, 0.3);
      font-weight: 500;
      letter-spacing: 0.5px;
    }

    .nav-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(90, 74, 48, 0.4);
    }

    .nav-btn:active {
      transform: translateY(1px);
    }

    .dark-mode .nav-btn {
      background: linear-gradient(to bottom, #5a4a30 0%, #3a2e1d 100%);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
    }

    /* Progress Bar */
    .progress-container {
      max-width: 700px;
      margin: 40px auto 20px;
    }

    .progress-text {
      text-align: center;
      font-size: 0.95rem;
      color: #6d5c40;
      margin-bottom: 12px;
      font-weight: 500;
      display: flex;
      justify-content: space-between;
    }

    .dark-mode .progress-text {
      color: #b8a98a;
    }

    .progress-bar {
      width: 100%;
      height: 10px;
      background-color: rgba(212, 201, 190, 0.5);
      border-radius: 5px;
      overflow: hidden;
      box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    .progress {
      width: 0%;
      height: 100%;
      background: linear-gradient(to right, #8a7a60 0%, #6d5c40 100%);
      transition: width 0.4s ease;
      border-radius: 5px;
    }

    .dark-mode .progress {
      background: linear-gradient(to right, #a09078 0%, #8a7a60 100%);
    }

    /* Footer */
    .read-footer {
      text-align: center;
      padding: 30px 15px;
      color: #5a4a30;
      font-size: 0.9rem;
      margin-top: 40px;
      font-family: 'Crimson Text', serif;
      letter-spacing: 0.5px;
    }

    .dark-mode .read-footer {
      color: #b8a98a;
    }

    /* Bookmark Corner */
    .bookmark-corner {
      position: absolute;
      top: 0;
      right: 40px;
      width: 40px;
      height: 60px;
      background: #c1a87d;
      clip-path: polygon(0 0, 100% 0, 100% 100%, 50% 85%, 0 100%);
      z-index: 2;
    }

    .dark-mode .bookmark-corner {
      background: #8a7a60;
    }

    /* Decorative Elements */
    .page-decoration {
      position: absolute;
      bottom: 20px;
      left: 20px;
      font-size: 3rem;
      color: rgba(90, 74, 48, 0.1);
      font-family: 'Crimson Text', serif;
      font-weight: 700;
      transform: rotate(-15deg);
      z-index: -1;
    }

    .dark-mode .page-decoration {
      color: rgba(180, 167, 154, 0.1);
    }

    /* ---------- Responsive Adjustments ---------- */
    @media (max-width: 768px) {
      .read-header {
        flex-direction: column;
        gap: 15px;
        padding: 20px;
      }
      
      .header-info {
        order: 2;
        width: 100%;
      }
      
      .book-content {
        padding: 0 10px;
        font-size: 1.15rem;
      }
      
      .book-content p:first-child::first-letter {
        font-size: 2.8rem;
      }
      
      .nav-buttons {
        flex-direction: column;
        gap: 15px;
      }
      
      .read-main {
        padding: 40px 20px;
      }
    }

    @media (max-width: 480px) {
      .book-content {
        font-size: 1.05rem;
      }
      
      .button-55 {
        padding: 0.65rem 1.2rem;
      }
      
      #chapterIndicator {
        font-size: 1.4rem;
      }
    }
  </style>
</head>
<body class="light-mode">
  <!-- Loading Screen -->
  <div id="loadingScreen" class="loading-screen">
    <div class="loading-spinner"></div>
    <p>Loading Literary Treasure...</p>
  </div>

  <div class="read-container">
    <div class="book-cover-effect"></div>
    <div class="bookmark-corner"></div>
    <div class="page-decoration">H</div>

    <!-- Header -->
    <header class="read-header">
      <a href="index.html" class="button-55 home-btn">
        <i class="fas fa-home"></i>
        Home
      </a>
      
      <div class="header-info">
        <h1 id="bookTitle">Shooting an Elephant</h1>
        <p id="bookAuthor">By George Orwell</p>
      </div>
      
      <div class="checkbox-wrapper-58">
        <label class="switch">
          <input type="checkbox" id="darkModeToggle">
          <span class="slider"></span>
        </label>
      </div>
    </header>

    <!-- Main Reading Content -->
    <main class="read-main">
      <h2 id="chapterIndicator">Page 1</h2>
      
      <div id="bookContent" class="book-content">
        <p>In Moulmein, in Lower Burma, I was hated by large numbers of peopleâ€”the only time in my life that I have been important enough for this to happen to me. I was sub-divisional police officer of the town, and in an aimless, petty kind of way anti-European feeling was very bitter. No one had the guts to raise a riot, but if a European woman went through the bazaars alone somebody would probably spit betel juice over her dress. As a police officer I was an obvious target and was baited whenever it seemed safe to do so.</p>
        <p>When a nimble Burman tripped me up on the football field and the referee (another Burman) looked the other way, the crowd yelled with hideous laughter. This happened more than once. In the end the sneering yellow faces of young men that met me everywhere, the insults hooted after me when I was at a safe distance, got badly on my nerves.</p>
        <p>The young Buddhist priests were the worst of all. There were several thousands of them in the town and none of them seemed to have anything to do except stand on street corners and jeer at Europeans.</p>
      </div>
      
      <div class="nav-buttons">
        <button id="prevPage" class="nav-btn">
          <i class="fas fa-arrow-left"></i>
          Prev
        </button>
        <button id="nextPage" class="nav-btn">
          Next
          <i class="fas fa-arrow-right"></i>
        </button>
      </div>
      
      <div class="progress-container">
        <div class="progress-text">
          <span>Progress</span>
          <span id="progressText">25%</span>
        </div>
        <div class="progress-bar">
          <div id="progress" class="progress"></div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="read-footer">
      <p>&copy; 2025 HiddenInks.io. All Rights Reserved.</p>
    </footer>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
  // Show loading screen for 1.5 seconds
  const loadingScreen = document.getElementById("loadingScreen");
  setTimeout(() => {
    loadingScreen.style.display = "none";
  }, 1500);

  const urlParams = new URLSearchParams(window.location.search);
  const bookIndex = urlParams.get("book");

  fetch("books.json")
    .then(response => response.json())
    .then(books => {
      const book = books[bookIndex];
      if (!book) {
        document.getElementById("bookContent").textContent = "Book not found.";
        return;
      }

      // Set title and author
      document.getElementById("bookTitle").textContent = book.title;
      document.getElementById("bookAuthor").textContent = "By " + book.author;

      // Retrieve saved bookmark for this book
      let currentPage = localStorage.getItem("bookmark-" + bookIndex);
      currentPage = currentPage !== null ? parseInt(currentPage) : 0;

      const contentDiv = document.getElementById("bookContent");
      const chapterIndicator = document.getElementById("chapterIndicator");
      const progressBar = document.getElementById("progress");

      function updatePage() {
        contentDiv.style.opacity = 0;
        setTimeout(() => {
          contentDiv.textContent = book.content[currentPage];
          chapterIndicator.textContent = "Page " + (currentPage + 1);
          contentDiv.style.opacity = 1;
          progressBar.style.width = ((currentPage + 1) / book.content.length) * 100 + "%";
          localStorage.setItem("bookmark-" + bookIndex, currentPage);
        }, 300);
      }

      updatePage();

      document.getElementById("prevPage").addEventListener("click", () => {
        if (currentPage > 0) {
          currentPage--;
          updatePage();
        }
      });

      document.getElementById("nextPage").addEventListener("click", () => {
        if (currentPage < book.content.length - 1) {
          currentPage++;
          updatePage();
        }
      });

      document.getElementById("toggleMode").addEventListener("click", function () {
        if (document.body.classList.contains("dark-mode")) {
          document.body.classList.remove("dark-mode");
          document.body.classList.add("light-mode");
          this.textContent = "ðŸŒ™ Dark Mode";
          localStorage.setItem("theme", "light");
        } else {
          document.body.classList.remove("light-mode");
          document.body.classList.add("dark-mode");
          this.textContent = "â˜€ Light Mode";
          localStorage.setItem("theme", "dark");
        }
      });

      // Apply saved theme
      if (localStorage.getItem("theme") === "dark") {
        document.body.classList.add("dark-mode");
        document.body.classList.remove("light-mode");
        document.getElementById("toggleMode").textContent = "â˜€ Light Mode";
      }
    })
    .catch(error => {
      document.getElementById("bookContent").textContent = "Error loading book.";
      console.error(error);
    });
});
</script>
</body>
</html>
